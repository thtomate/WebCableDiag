{% extends "base.html" %}
{% block content %}
<div class="panel">
  <h2>{{ _('Results for') }} {{ device.name }} ({{ device.host }})</h2>
  {% for iface, parsed in results.items() %}
    <h3>{{ iface }}</h3>
    {% if parsed.error %}
      <div style="color:darkred">{{ _('Error') }}: {{ parsed.error }}</div>
    {% endif %}
    {% if parsed.pairs %}
      <table>
        <thead><tr><th>{{ _('Pair') }}</th><th>{{ _('Status') }}</th><th>{{ _('Approximate length (m)') }}</th><th>{{ _('Details') }}</th></tr></thead>
        <tbody>
        {% for p in parsed.pairs %}
          <tr>
            <td>{{ p.pair or "-" }}</td>
            <td>{{ p.status or "-" }}</td>
            <td>{{ p.length_m or "-" }}</td>
            <td>{{ p.details }}</td>
          </tr>
        {% endfor %}
        </tbody>
      </table>
    {% else %}
      <pre>{{ parsed.raw }}</pre>
      {% if parsed.note %}<div><em>{{ parsed.note }}</em></div>{% endif %}
    {% endif %}
    <hr>
  {% endfor %}
  <a href="{{ url_for('switch_detail', site_name=site.name, name=device.name) }}">{{ _('Back') }}</a>
</div>
{% endblock %}
